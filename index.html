<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Document</title>
    <style>
      .main {
        height: 800px;
        width: 800px;
        margin: 100px auto;
        background: purple;
      }
      .box {
        width: 200px;
        height: 200px;
        border: 1px solid black;
        float: left;
        box-sizing: border-box;
        font-size: 100px;
        text-align: center;
        line-height: 200px;
        color: aqua;
      }
      h1 {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <h1>Score: <span id="score"></span></h1>
    <div class="main">
      <div class="row">
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
      </div>
      <div class="row">
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
      </div>
      <div class="row">
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
      </div>
      <div class="row">
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
      </div>
    </div>
  </body>

  <script>
    let boxes = document.querySelectorAll(".box");
    let scoreNaslov = document.querySelector("#score");
    // console.log(boxes);

    /*
    let polje = [];
    polje[0] = [1, 2, 3, 4];
    polje[1] = [5, 6, 7, 8];
    polje[2] = [9, 10, 11, 12];
    polje[3] = [13, 14, 15, 16];

    //polje[0][0];
    //[1, 2, 3, 4] [0]

    for (let i = 0; i < polje.length; i++) {
      for (let j = 0; j < polje[i].length; j++) {
        console.log(polje[i][j]);
      }
    }
    */

    // TODO Randpm raspored kartica i umjesto brojeva trebaju se prikazivati slike
    let memo = [
      [1, 1, 2, 2],
      [3, 3, 4, 4],
      [5, 5, 6, 6],
      [7, 7, 8, 8],
    ];

    // dodavanje event listenera na boxeve => poput teksta u div
    prviIzbor = -1;
    drugiIzbor = -2;
    score = 0;
    scoreNaslov.innerHTML = score;

    for (let i = 0; i < boxes.length; i++) {
      boxes[i].addEventListener("click", function () {
        boxes[i].innerHTML = memo[Math.floor(i / 4)][i % 4];
        if (prviIzbor == -1) {
          prviIzbor = memo[Math.floor(i / 4)][i % 4];
        } else {
          drugiIzbor = memo[Math.floor(i / 4)][i % 4];
        }

        if (prviIzbor != -1 && drugiIzbor != -2 && prviIzbor == drugiIzbor) {
          console.log("Jednaki su!");
          prviIzbor = -1;
          drugiIzbor = -2;
          scoreNaslov.innerHTML = ++score;
        } else if (prviIzbor != -1 && drugiIzbor != -2) {
          console.log("Nisu jednaki!");
          prviIzbor = -1;
          drugiIzbor = -2;
        }
      });
    }
  </script>
</html>
